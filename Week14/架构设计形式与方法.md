# 架构设计形式与方法

## 架构发展演化

单体架构、垂直架构、SOA架构、微服务架构

- 单体架构
  - 以asp、jsp、php为代表
- 垂直架构
  - 涉及负载均衡、反向代理
  - Spring/ORM等框架
- SOA/分布式服务
  - 引入数据库中间件和复制技术
  - 引入缓存，解决热点读问题
  - 引入全文检索，解决海量的复杂条件查询问题
- 微服务架构
  - 大规模分布式服务化+容器化+治理化
  - 关注服务治理和监控，系统稳定和可用性
  - 引用分布式缓存，分布式文件系统

## 架构的形式

以文档和代码呈现

一个软件系统的长期稳定发展，必然需要一个可靠的、随着软件本身的维护不断同步更新的文档作为每次变更的出发点。

可以随时沿着架构相关的文档逆流而上，了解这个软件系统从整体到具体的设计思路

**文档是设计的载体，代码是系统功能实现的载体**

**怎么才能写出好的代码**

- 经验、重构

代码不适合作为唯一的”文档“。

结论不那么重要，**思考过程和逻辑过程更重要**

## 如何用文档说清楚架构设计

### 架构视图

对于从某一个视角或某一点上看到的系统所做的简化描述

- 场景视图
  - Use Case View
  - 关注最终用户需求
  - 用UML用例图和活动图描述
- 逻辑视图
  - Logic View
  - 关注系统提供最终用户的功能
  - 用UML的类图、交互图、时序图来表述
- 开发视图
  - Development View
  - 关注程序包
  - UML中用组件图，包图来表述
  - 开发视图和逻辑视图之间可能存在一定的映射关系
- 进程视图
  - Process View
  - 关注系统动态运行时
  - UML中通常用活动图表述
- 物理视图
  - Physical View
  - 关注软件的物流拓扑结构

## 架构方法论——TOGAF

## 相关架构经验

1. 架构设计服务于业务

   - 需要一定的前瞻性

2. 架构影响研发团队的组织形式

   - 业务拆分细致，有利于我们更好地对项目的各项指标量化计算

3. 架构存在于每一个系统

   - 每一个已经实现并运行的系统，都是特定架构设计的载体

4. 架构需要警惕过度设计

   - 做技术选型的时候，因为自己熟悉和顺手，选了实际上不适合的技术和组件

5. 架构需要不断的发展演进

   - 只有通过不断迭代更新自己的知识和思想，才能一致最适合的架构设计

   - 循序渐进达到比较立项的架构设计

